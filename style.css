<style>
  :root{
    --bg:#0b0f14;
    --card:#0f141b;
    --top:#0c1118;
    --border:rgba(255,255,255,0.15);
    --shadow:0 20px 60px rgba(0,0,0,0.5);
    --gap:18px;
    --radius:12px;

    /* ✅ Viewport-based sizing (NO stretching) */
    --container: 1200px;
    --mapH: clamp(260px, 38vh, 420px);

    /* Bottom row height scales with screen */
    --rowH: clamp(360px, 46vh, 520px);

    /* Right column split inside the same row height */
    --instH: clamp(220px, 28vh, 320px);
    --topNewsH: clamp(160px, 18vh, 240px);
  }

  *{ box-sizing:border-box; }

  body{
    margin:0;
    background:var(--bg);
    font-family:Arial, Helvetica, sans-serif;
    color:white;
    overflow-x:hidden;
  }

  /* FULL WIDTH MAP */
  .map-strip{
    width:100%;
    padding:22px 18px 0;
  }
  .map-banner{
    width:100%;
    height:var(--mapH);
    border-radius:var(--radius);
    overflow:hidden;
    border:1px solid var(--border);
    background:var(--card);
    box-shadow:var(--shadow);
    position:relative;
  }
  #worldMap{ width:100%; height:100%; }

  .map-time{
    position:absolute;
    top:10px;
    left:50%;
    transform:translateX(-50%);
    padding:6px 10px;
    border-radius:10px;
    font-size:12px;
    background:rgba(0,0,0,0.55);
    border:1px solid rgba(255,255,255,0.15);
    color:rgba(255,255,255,0.9);
    backdrop-filter:blur(6px);
    z-index:500;
    pointer-events:none;
  }

  .leaflet-control-zoom a{
    background:rgba(0,0,0,0.55) !important;
    color:rgba(255,255,255,0.9) !important;
    border:1px solid rgba(255,255,255,0.15) !important;
  }

  /* CENTERED DASHBOARD */
  .page{
    width:100%;
    max-width:var(--container);
    margin:0 auto;
    padding:18px 18px 40px;
    display:flex;
    flex-direction:column;
    gap:var(--gap);
  }

  .dashboard{
    width:100%;
    display:grid;
    grid-template-columns: minmax(0, 1.55fr) minmax(0, 1fr); /* ✅ prevents weird stretching */
    gap:var(--gap);
    align-items:start;
  }

  /* LEFT: LIVE NEWS (fixed to rowH) */
  .news-block{
    height:var(--rowH);
    border:1px solid var(--border);
    border-radius:var(--radius);
    overflow:hidden;
    background:var(--card);
    box-shadow:var(--shadow);
    display:flex;
    flex-direction:column;
    min-height:0;
  }

  .header{
    display:flex;
    align-items:center;
    padding:14px 16px;
    border-bottom:1px solid var(--border);
    background:var(--top);
    flex:0 0 auto;
  }

  .title{ font-weight:bold; letter-spacing:2px; font-size:18px; }

  .live{
    margin-left:12px;
    display:flex;
    align-items:center;
    gap:6px;
    font-size:14px;
    opacity:0.8;
  }

  .dot{
    width:10px; height:10px;
    background:red;
    border-radius:50%;
    box-shadow:0 0 10px red;
  }

  .tabs{
    display:flex;
    gap:10px;
    padding:10px;
    border-bottom:1px solid rgba(255,255,255,0.1);
    overflow-x:auto;
    background:var(--top);
    flex:0 0 auto;
  }

  .tab{
    border:1px solid rgba(255,255,255,0.15);
    padding:8px 14px;
    border-radius:8px;
    cursor:pointer;
    font-size:13px;
    white-space:nowrap;
    opacity:0.7;
    user-select:none;
  }
  .tab.active{ background:red; border-color:red; opacity:1; }

  /* ✅ Player takes only remaining height (no stretching) */
  .player{
    flex:1 1 auto;
    min-height:0;
    background:black;
    position:relative;
  }
  iframe{
    position:absolute;
    inset:0;
    width:100%;
    height:100%;
    border:none;
  }

  .hint{
    padding:10px 16px;
    font-size:12px;
    color:rgba(255,255,255,0.65);
    border-top:1px solid rgba(255,255,255,0.08);
    background:rgba(0,0,0,0.2);
    flex:0 0 auto;
  }

  /* RIGHT COLUMN */
  .right-col{
    display:flex;
    flex-direction:column;
    gap:var(--gap);
    min-height:0;
  }

  .panel{
    border:1px solid var(--border);
    border-radius:var(--radius);
    overflow:hidden;
    background:var(--card);
    box-shadow:var(--shadow);
    display:flex;
    flex-direction:column;
    min-height:0;
  }

  /* ✅ Right panels are compact and do NOT become tall columns */
  #instabilityPanel{ height: var(--instH); }
  #topNewsPanel{ height: var(--topNewsH); }

  .panel-header{
    padding:14px 16px;
    border-bottom:1px solid var(--border);
    background:var(--top);
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:10px;
    flex:0 0 auto;
  }

  .panel-title{
    font-weight:bold;
    letter-spacing:2px;
    font-size:14px;
    text-transform:uppercase;
  }

  .meta-right{ display:flex; align-items:center; gap:8px; }

  .badge{
    border:1px solid rgba(255,255,255,0.15);
    padding:3px 8px;
    border-radius:999px;
    font-size:11px;
    opacity:0.85;
    background:rgba(255,255,255,0.04);
    white-space:nowrap;
  }

  /* ✅ ONLY the list scrolls */
  .panel-body{
    padding:12px;
    display:flex;
    flex-direction:column;
    gap:10px;
    overflow-y:auto;
    overflow-x:hidden;
    flex:1 1 auto;
    min-height:0;
    padding-right:8px;
  }

  .panel-body::-webkit-scrollbar{ width:10px; }
  .panel-body::-webkit-scrollbar-track{
    background:rgba(255,255,255,0.04);
    border-radius:999px;
  }
  .panel-body::-webkit-scrollbar-thumb{
    background:rgba(255,255,255,0.18);
    border-radius:999px;
  }

  .country-card, .news-item{
    border:1px solid rgba(255,255,255,0.10);
    border-radius:10px;
    padding:10px;
    background:rgba(0,0,0,0.18);
  }

  /* Mobile */
  @media (max-width:1000px){
    .dashboard{ grid-template-columns:1fr; }
    #instabilityPanel{ height: clamp(240px, 32vh, 360px); }
    #topNewsPanel{ height: clamp(200px, 26vh, 320px); }
    .news-block{ height: clamp(380px, 52vh, 560px); }
  }
</style>
